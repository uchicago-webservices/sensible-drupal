/**
 * @file
 * Navigation Styling
 */

@import "base";

/*
 * Markup generated by theme_menu_tree().
 */

ul li.expanded {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-expanded.png);
  }
  list-style-image: inline-image("menu-expanded.png");
  list-style-type: circle;
}
ul li.collapsed {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-collapsed.png); /* LTR */
  }
  list-style-image: inline-image("menu-collapsed.png"); /* LTR */
  list-style-type: disc;
}
ul li.leaf {
  @if $legacy-support-for-ie6 or $legacy-support-for-ie7 {
    *list-style-image: url(../images/menu-leaf.png);
  }
  list-style-image: inline-image("menu-leaf.png");
  list-style-type: square;
}

/*
 * The active item in a Drupal menu
 */

li a.active {
  color: #000;
}

/*
 * Navigation bar
 */

#navigation {
  /* overflow: hidden; */ /* Sometimes you want to prevent overlapping with main div. */

  .block {
    margin-bottom: 0;
  }

  .block-menu .block-title,
  .block-menu-block .block-title {
    @include element-invisible();
  }

  ul.links, /* Main menu and secondary menu links */
  ul.menu { /* Menu block links */
    margin: 0;
    padding: 0;
    text-align: left; /* LTR */

    li { /* A simple method to get navigation links to appear in one line. */
      float: left; /* LTR */
      padding: 0 10px 0 0; /* LTR */
      list-style-type: none;
      list-style-image: none;
    }
  }
}


/* 
 * Navigation Bar
 *
 * These styles define a Twitter-bootstrap style top navigation bar.
 * If you do not want to use this style, just remove the "bar" class
 * from the navigation div in page.tpl.php, or delete all of the styles
 * below.
 */

#navigation.bar {

  z-index:100;

  .block-title {
    position: absolute !important;
    clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
    clip: rect(1px, 1px, 1px, 1px);
  }

  .btn-navbar {
    display: none;
    position: absolute;
    right:15px;
    margin:5px 5px 0 5px;
    /*display: none;*/
    padding: 7px 10px;
    background-color: #2c2c2c;
    background-image: -moz-linear-gradient(top, #333333, #222222);
    background-image: -ms-linear-gradient(top, #333333, #222222);
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#333333), to(#222222));
    background-image: -webkit-linear-gradient(top, #333333, #222222);
    background-image: -o-linear-gradient(top, #333333, #222222);
    background-image: linear-gradient(top, #333333, #222222);
    background-repeat: repeat-x;
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#333333', endColorstr='#222222', GradientType=0);
    border-color: #222222 #222222 #000000;
    border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
    filter: progid:dximagetransform.microsoft.gradient(enabled=false);
    -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.075);
    -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.075);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.075);

    .icon-bar {
      display: block;
      width: 18px;
      height: 2px;
      background-color: #f5f5f5;
      @include border-radius(1px);
      @include box-shadow(0 1px 0 rgba(0, 0, 0, 0.25));
    }

    .icon-bar + .icon-bar {
      margin-top: 3px;
    }

  }

  .btn-navbar:hover,
  .btn-navbar:active,
  .btn-navbar.active,
  .btn-navbar.disabled,
  .btn-navbar[disabled] {
    background-color: #222222;
  }

  .btn-navbar:active,
  .btn-navbar.active {
    background-color: #080808 \9;
  }

  .block-menu-block {

    color: #999999;
    *position: relative;
    *z-index: 2;
    overflow: visible;
    margin-bottom: 18px;
    padding-left: 20px;
    padding-right: 20px;
    min-height: 40px; /* would be better if nav was clearfixed */
    background-color: #2c2c2c;
    background-image: -moz-linear-gradient(top, #333333, #222222);
    background-image: -ms-linear-gradient(top, #333333, #222222);
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#333333), to(#222222));
    background-image: -webkit-linear-gradient(top, #333333, #222222);
    background-image: -o-linear-gradient(top, #333333, #222222);
    background-image: linear-gradient(top, #333333, #222222);
    background-repeat: repeat-x;
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#333333', endColorstr='#222222', GradientType=0);
    @include border-radius(4px);
    @include box-shadow(0 1px 3px rgba(0, 0, 0, 0.25), inset 0 -1px 0 rgba(0, 0, 0, 0.1));

    ul.menu, ul.main-menu {
      display: block;
      position: relative;
      left: 0;
      float: left;
      margin: 0 10px 0 0;
      width:100%; 
    }

    ul.menu > li, ul.main-menu > li {
      display: block;
      float: left;
      line-height: 18px;
      padding:0;
      margin:0;
    }

    ul.menu > li > a, ul.main-menu > li > a {
      display: block;
      float: none;
      padding: 10px 10px 11px;
      line-height: 19px;
      color: #999999;
      text-decoration: none;
      text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
    }

    ul.menu > li > a:hover, ul.main-menu > li > a:hover {
      background-color: transparent;
      color: #ffffff;
      text-decoration: none;
    }

    ul.menu .active > a,
    ul.menu .active > a:hover,
    ul.main-menu .active > a,
    ul.main-menu .active > a:hover {
      color: #ffffff;
      text-decoration: none;
      background-color: #222222;
    }

    /* Nav dropdowns */
    ul.menu {

      li {
        position:relative;
      }

      a:hover{
        color:#fff;
        background:#6b0c36;
      }

      ul {

        background:#222222;
        list-style:none;
        position:absolute;
        left:-9999px; /* Hide off-screen when not needed (this is more accessible than display:none;) */
        z-index:1000;

        li {

          width:100%;

          a {
            width:auto;
            padding:10px 10px 11px;
          }

        }

      }

      li:hover {

        ul { /* Display the dropdown on hover */
          left:0; /* Bring back on-screen when needed */
        }

        a { /* These create persistent hover states, meaning the top-most link stays 'hovered' even when your cursor has moved down the list. */
          background:#222222;
        }

        ul li a:hover { /* Here we define the most explicit hover states--what happens when you hover each individual link. */
          background:#333;
        }

      }

    }

  }

}

@media (max-width: 767px) { /* Target everything below 768px for the navigation bar */

  #navigation.bar {

    .btn-navbar {
      display: block;
      z-index:1001;
    }

    .block-menu-block {

      h2.block-title {
        position:static !important;
        @include adjust-font-size-to(16px);
        color:#ffffff;
        width:auto;
        height:auto;
      }

      ul.menu {

        float:none;
        display:none;

        li {
          float:none;
        }
        
        ul {
          position:relative;
          left:10px;
          padding-top:0;
          width:auto;
        }
        
        li:hover ul {
          left:10px;
        }
        
        ul li {
          width:auto;
        }
        
        ul, ul li a {
          width:auto;
          background-color: transparent;
        }
        
        li:hover a{
          background:transparent;
        }
        
        li a:hover,
        li:hover a.active,
        li ul li a:hover,
        li:hover ul li a:hover{
          background:#222;
        }

      }

    }

  }

}

/*
 * Sidebar navigation
 *
 * You can delete all of the styles below if you want to start with a clean slate
 * for your sidebar navigation.
 */

/* Sidebar navs */
.sidebar div[class*="block-menu"] {

  .block-content {
    min-height: 20px;
    padding: 8px 0;
    margin-bottom: 20px;
    background-color: #f5f5f5;
    border: 1px solid #eee;
    border: 1px solid rgba(0, 0, 0, 0.05);
    @include border-radius(4px);
    @include box-shadow(inset 0 1px 1px rgba(0, 0, 0, 0.05));
  }

  ul {

    padding-left: 15px;
    padding-right: 15px;
    margin: 0;

    li {
    
      list-style: none !important;
      padding:0 !important;
      margin:0 !important; /* override some system styles */

      a:hover {
        text-decoration: none;
        background-color: #eeeeee;
      }

    }

  }

  li a {
    display: block;
    margin-left: -15px;
    margin-right: -15px;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
    padding: 3px 15px;
  }

  li li a {
    padding-left:30px;
    margin-left:-30px;
    margin-right:-30px;
  }

}

/*
 * Main menu and Secondary menu links
 */

#main-menu { /* Main menu */
}

#secondary-menu {
  float: right; /* LTR */
}

/*
 * Menu blocks
 */

.block-menu { /* Core menu blocks */
}

/*
 * "Menu block" blocks
 *
 * Drupal core has limited ways in which it can display its menus. To get around
 * these limitations, see http://drupal.org/project/menu_block
 */

.block-menu-block { /* Menu blocks generated by the menu block module */
}
